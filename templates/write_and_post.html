{% extends "layout.html" %}
{% block title %}Post Blog{% endblock %}
{% block content %}
<h3>Post Your Blog</h3>

<form method="post">
    <input type="text" name="topic" placeholder="Search topic..." value="{{ topic or '' }}" required>
    <button type="submit" name="action" value="generate">Generate</button>
</form>

<h4>🔥 Trending Topics:</h4>
<ul>
    {% for t in trending %}
    <li>
        <form method="post" style="display:inline;">
            <input type="hidden" name="topic" value="{{ t }}">
            <button type="submit" name="action" value="generate">{{ t }}</button>
        </form>
    </li>
    {% endfor %}
</ul>

{% if blog %}
<h4>📝 Blog Preview:</h4>
<pre>{{ blog }}</pre>
<form method="post">
    <input type="hidden" name="topic" value="{{ topic }}">
    <button type="submit" name="action" value="generate">Regenerate</button>
    <button type="submit" name="action" value="post">Post</button>
</form>
{% endif %}
{% endblock %}
